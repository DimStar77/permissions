'\" t
.\"     Title: permissions
.\"    Author: [see the "AUTHORS" section]
.\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
.\"      Date: 04/24/2024
.\"    Manual: \ \&
.\"    Source: \ \&
.\"  Language: English
.\"
.TH "PERMISSIONS" "5" "04/24/2024" "\ \&" "\ \&"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
permissions \- default permission settings
.SH "SYNOPSIS"
.sp
The permctl program sets permissions and ownerships of files according to the permission configuration files\&.
.SH "DESCRIPTION"
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
The files /usr/share/permissions/permissions\&.* are line based and space delimited\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
Lines starting with
\*(Aq#\*(Aq
are comments\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
The first column specifies the file name\&. Directory names have to end with a slash\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
The second column specifies the owner and group\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
The third column specifies the file mode\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
The special value
\fB+capabilities\fR
in the first column extends the information of the previous line with file capabilites\&.
.RE
.sp
The file name in the first column can contain contain variables as defined in the \fIvariables\&.conf\fR file\&. A variable expands to one or more alternative path segments that relate to the same program or file\&. permctl will look in each possible path resulting from the variable expansion and apply the permissions accordingly\&.
.sp
The variables\&.conf file will ignore empty lines, whitespace only lines or comment lines starting with \fI#\fR\&. All other lines must contain variable definitions that follow the syntax \fBmyvar = /path/1 /path/2\fR\&. This example will declare a variable identified as myvar that will expand to both specified path segments\&.
.sp
Path segments appearing in variable assignments need to be separated by whitespace characters\&. The path values cannot contain whitespace themselves\&. The variable identifier is limited to alphanumeric characters and the underscore character\&.
.sp
To reference a variable in a permissions file it needs to be dereferenced using the %{myvar} syntax\&. The variable needs to appear as a single path component and cannot be mixed with other literal characters\&. Multiple variables per path are allowed\&. The following are valid variable uses:
.sp
.if n \{\
.RS 4
.\}
.nf
\- %{myvar}/sub/path
\- /parent/path/%{myvar}
\- /parent/path/%{myvar}/sub/path
\- %{var1}/path/%{var2}
.fi
.if n \{\
.RE
.\}
.sp
While the following are invalid:
.sp
.if n \{\
.RS 4
.\}
.nf
\- /prefix/pre%{myvar}suf/suffix
\- /%{var}text/path
\- /path/text%{var}
.fi
.if n \{\
.RE
.\}
.SH "EXAMPLES"
.sp
A specification like this:
.sp
.if n \{\
.RS 4
.\}
.nf
# in variables\&.conf
lib_dirs = /lib /lib64
sub_dirs = prog_v1 prog_v2

# in a permissions profile
%{lib_dirs}/%{sub_dirs}/libsomething\&.so root:root 04755
.fi
.if n \{\
.RE
.\}
.sp
Will cause permctl to try and apply the given permission to all of the following paths:
.sp
.if n \{\
.RS 4
.\}
.nf
/lib/prog_v1/libsomething\&.so
/lib64/prog_v1/libsomething\&.so
/lib/prog_v2/libsomething\&.so
/lib64/prog_v2/libsomething\&.so
.fi
.if n \{\
.RE
.\}
.SH "FILES"
.sp
.if n \{\
.RS 4
.\}
.nf
/usr/share/permissions/permissions
/usr/share/permissions/permissions\&.easy
/usr/share/permissions/permissions\&.secure
/usr/share/permissions/permissions\&.paranoid
/usr/share/permissions/packages\&.d/*
/usr/share/permissions/permissions\&.d/* (deprecated)
/usr/share/permissions/variables\&.conf
/etc/permissions\&.local
.fi
.if n \{\
.RE
.\}
.SH "SEE ALSO"
.sp
permctl(8)
.SH "AUTHORS"
.sp
Written by Ludwig Nussel\&.
.SH "REPORTING BUGS"
.sp
Report bugs to https://bugzilla\&.suse\&.com/ or to https://github\&.com/openSUSE/permissions/\&.
